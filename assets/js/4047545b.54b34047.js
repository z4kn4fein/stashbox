"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[414],{685:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>h,contentTitle:()=>l,default:()=>g,frontMatter:()=>a,metadata:()=>d,toc:()=>p});var s=n(4848),t=n(8453),r=n(7470),o=n(1470),c=n(9365);const a={},l="Registration configuration",d={id:"configuration/registration-configuration",title:"Registration configuration",description:"Most of the registration methods have an Action parameter, enabling several customization options on the given registration.",source:"@site/docs/configuration/registration-configuration.md",sourceDirName:"configuration",slug:"/configuration/registration-configuration",permalink:"/stashbox/docs/configuration/registration-configuration",draft:!1,unlisted:!1,editUrl:"https://github.com/z4kn4fein/stashbox/edit/master/docs/docs/configuration/registration-configuration.md",tags:[],version:"current",lastUpdatedBy:"Peter Csajtai",lastUpdatedAt:1734705570,formattedLastUpdatedAt:"Dec 20, 2024",frontMatter:{},sidebar:"docs",previous:{title:"Scopes",permalink:"/stashbox/docs/guides/scopes"},next:{title:"Container configuration",permalink:"/stashbox/docs/configuration/container-configuration"}},h={},p=[{value:"General options",id:"general-options",level:2},{value:"<code>WithName</code>",id:"withname",level:3},{value:"<code>WithInstance</code>",id:"withinstance",level:3},{value:"<code>WithoutDisposalTracking</code>",id:"withoutdisposaltracking",level:3},{value:"<code>WithMetadata</code>",id:"withmetadata",level:3},{value:"<code>WithDynamicResolution</code>",id:"withdynamicresolution",level:3},{value:"<code>HasServiceType</code>",id:"hasservicetype",level:3},{value:"Initializer / finalizer",id:"initializer--finalizer",level:2},{value:"<code>WithFinalizer</code>",id:"withfinalizer",level:3},{value:"<code>WithInitializer</code>",id:"withinitializer",level:3},{value:"Replace",id:"replace",level:2},{value:"Multiple services",id:"multiple-services",level:2},{value:"<code>AsImplementedTypes</code>",id:"asimplementedtypes",level:3},{value:"<code>AsServiceAlso</code>",id:"asservicealso",level:3},{value:"Dependency configuration",id:"dependency-configuration",level:2},{value:"Lifetime",id:"lifetime",level:2},{value:"<code>WithSingletonLifetime</code>",id:"withsingletonlifetime",level:3},{value:"<code>WithScopedLifetime</code>",id:"withscopedlifetime",level:3},{value:"<code>WithPerScopedRequestLifetime</code>",id:"withperscopedrequestlifetime",level:3},{value:"<code>WithPerRequestLifetime</code>",id:"withperrequestlifetime",level:3},{value:"<code>WithAutoLifetime</code>",id:"withautolifetime",level:3},{value:"<code>WithLifetime</code>",id:"withlifetime",level:3},{value:"Conditions",id:"conditions",level:2},{value:"<code>WhenHas</code>",id:"whenhas",level:3},{value:"<code>WhenResolutionPathHas</code>",id:"whenresolutionpathhas",level:3},{value:"<code>WhenDependantIs</code>",id:"whendependantis",level:3},{value:"<code>WhenInResolutionPathOf</code>",id:"wheninresolutionpathof",level:3},{value:"<code>When</code>",id:"when",level:3},{value:"Constructor selection",id:"constructor-selection",level:2},{value:"<code>WithConstructorSelectionRule</code>",id:"withconstructorselectionrule",level:3},{value:"PreferMostParameters",id:"prefermostparameters",level:4},{value:"PreferLeastParameters",id:"preferleastparameters",level:4},{value:"Custom",id:"custom",level:4},{value:"<code>WithConstructorByArgumentTypes</code>",id:"withconstructorbyargumenttypes",level:3},{value:"<code>WithConstructorByArguments</code>",id:"withconstructorbyarguments",level:3},{value:"Property / field Injection",id:"property--field-injection",level:2},{value:"<code>WithAutoMemberInjection</code>",id:"withautomemberinjection",level:3},{value:"PropertiesWithPublicSetter",id:"propertieswithpublicsetter",level:4},{value:"PropertiesWithLimitedAccess",id:"propertieswithlimitedaccess",level:4},{value:"PrivateFields",id:"privatefields",level:4},{value:"Combined rules",id:"combined-rules",level:4},{value:"Member selection filter",id:"member-selection-filter",level:4},{value:"Required member injection",id:"required-member-injection",level:2},{value:"Injection parameters",id:"injection-parameters",level:2},{value:"<code>WithInjectionParameters</code>",id:"withinjectionparameters",level:3},{value:"<code>WithInjectionParameter</code>",id:"withinjectionparameter",level:3},{value:"Factory",id:"factory",level:2},{value:"Scope definition",id:"scope-definition",level:2},{value:"<code>InNamedScope</code>",id:"innamedscope",level:3},{value:"<code>InScopeDefinedBy</code>",id:"inscopedefinedby",level:3},{value:"<code>DefinesScope</code>",id:"definesscope",level:3},{value:"Decorator specific",id:"decorator-specific",level:2},{value:"<code>WhenDecoratedServiceIs</code>",id:"whendecoratedserviceis",level:3},{value:"<code>WhenDecoratedServiceHas</code>",id:"whendecoratedservicehas",level:3},{value:"Unknown registration specific",id:"unknown-registration-specific",level:2},{value:"<code>SetImplementationType</code>",id:"setimplementationtype",level:3},{value:"<code>Skip</code>",id:"skip",level:3}];function u(e){const i={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.h1,{id:"registration-configuration",children:"Registration configuration"}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(i.p,{children:["Most of the registration methods have an ",(0,s.jsx)(i.code,{children:"Action<TOptions>"})," parameter, enabling several customization options on the given registration."]}),(0,s.jsxs)(i.p,{children:["Here are three examples that show how the API's usage looks like.\nThey cover the exact functionalities you've read about in the ",(0,s.jsx)(i.a,{href:"/docs/guides/basics",children:"basics"})," section but are achieved with the options API."]})]}),(0,s.jsx)("div",{children:(0,s.jsxs)(o.A,{children:[(0,s.jsxs)(c.A,{value:"Named",label:"Named",children:[(0,s.jsx)(i.p,{children:"This is how you can use the options API to set a registration's name:"}),(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:'container.Register<IJob, DbBackup>(options => options\n    .WithName("DbBackup"));\n'})})]}),(0,s.jsxs)(c.A,{value:"Lifetime",label:"Lifetime",children:[(0,s.jsxs)(i.p,{children:["It was mentioned in the ",(0,s.jsx)(i.a,{href:"/docs/guides/basics#lifetime-shortcuts",children:"Lifetime shortcuts"})," section, that those methods are only sugars; under the curtain, they are also using this API:"]}),(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<IJob, DbBackup>(options => options\n    .WithLifetime(Lifetimes.Singleton));\n"})})]}),(0,s.jsxs)(c.A,{value:"Instance",label:"Instance",children:[(0,s.jsx)(i.p,{children:"An example of how you can register an instance with the options API:"}),(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<IJob, DbBackup>(options => options\n    .WithInstance(new DbBackup()));\n"})})]})]})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsx)("div",{children:(0,s.jsx)(i.p,{children:"The registration configuration API is fluent, which means all option methods can be chained after each other.\nThis provides an easier way to configure complicated registrations."})}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:'container.Register<IJob, DbBackup>(options => options\n    .WithName("DbBackup")\n    .WithLifetime(Lifetimes.Singleton)\n    .WithoutDisposalTracking());\n'})})})]}),"\n",(0,s.jsx)(i.h2,{id:"general-options",children:"General options"}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"withname",children:(0,s.jsx)(i.code,{children:"WithName"})}),(0,s.jsx)(i.p,{children:"Sets the name identifier of the registration."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:'container.Register<ILogger, ConsoleLogger>(config => config\n    .WithName("Console"));\n'})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"withinstance",children:(0,s.jsx)(i.code,{children:"WithInstance"})}),(0,s.jsx)(i.p,{children:"Sets an existing instance for the registration."}),(0,s.jsxs)(i.p,{children:["Passing true for the ",(0,s.jsx)(i.code,{children:"wireUp"})," parameter means that the container performs member / method injection on the registered instance."]})]}),(0,s.jsx)("div",{children:(0,s.jsxs)(o.A,{children:[(0,s.jsx)(c.A,{value:"Instance",label:"Instance",children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<ILogger>(options => options\n    .WithInstance(new ConsoleLogger()));\n"})})}),(0,s.jsx)(c.A,{value:"WireUp",label:"WireUp",children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<ILogger>(options => options\n    .WithInstance(new ConsoleLogger(), wireUp: true));\n"})})})]})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"withoutdisposaltracking",children:(0,s.jsx)(i.code,{children:"WithoutDisposalTracking"})}),(0,s.jsx)(i.p,{children:"Force disables the disposal tracking on the registration."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<ILogger, ConsoleLogger>(options => options\n    .WithoutDisposalTracking());\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"withmetadata",children:(0,s.jsx)(i.code,{children:"WithMetadata"})}),(0,s.jsxs)(i.p,{children:["Sets additional metadata for the registration. It's attached to the service upon its resolution through ",(0,s.jsx)(i.code,{children:"ValueTuple<,>"}),", ",(0,s.jsx)(i.code,{children:"Tuple<,>"}),", or ",(0,s.jsx)(i.code,{children:"Metadata<,>"})," wrappers."]})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<IJob, DbBackup>(options => options\n    .WithMetadata(connectionString));\n\nvar jobWithConnectionString = container.Resolve<ValueTuple<IJob, string>>();\nConsole.WriteLine(jobWithConnectionString.Item2); // prints the connection string.\n\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"withdynamicresolution",children:(0,s.jsx)(i.code,{children:"WithDynamicResolution"})}),(0,s.jsxs)(i.p,{children:["Indicates that the service's resolution should be handled by a dynamic ",(0,s.jsx)(i.code,{children:"Resolve()"})," call on the current ",(0,s.jsx)(i.code,{children:"IDependencyResolver"})," instead of a pre-built instantiation expression."]})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<IJob, DbBackup>();\ncontainer.Register<ILogger, ConsoleLogger>(options => options\n    .WithDynamicResolution());\n\n// new DbBackup(currentScope.Resolve<ILogger>());\nvar job = container.Resolve<IJob>();\n\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"hasservicetype",children:(0,s.jsx)(i.code,{children:"HasServiceType"})}),(0,s.jsx)(i.p,{children:"Used to build conditions based on service type in batch/assembly registrations.\nIt determines whether the registration is mapped to the given service type."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.RegisterAssemblyContaining<IService1>(configurator: options =>\n    {\n        if (options.HasServiceType<IService2>())\n            options.WithScopedLifetime();\n    });\n\n"})})})]}),"\n",(0,s.jsx)(i.h2,{id:"initializer--finalizer",children:"Initializer / finalizer"}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"withfinalizer",children:(0,s.jsx)(i.code,{children:"WithFinalizer"})}),(0,s.jsx)(i.p,{children:"Sets a custom cleanup delegate that will be invoked when the scope / container holding the instance is being disposed."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<ILogger, FileLogger>(options => options\n    .WithFinalizer(logger => logger\n        .CloseFile()));\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"withinitializer",children:(0,s.jsx)(i.code,{children:"WithInitializer"})}),(0,s.jsx)(i.p,{children:"Sets a custom initializer delegate that will be invoked when the given service is being instantiated."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<ILogger, FileLogger>(options => options\n    .WithInitializer((logger, resolver) => logger\n        .OpenFile()));\n"})})})]}),"\n",(0,s.jsx)(i.h2,{id:"replace",children:"Replace"}),"\n",(0,s.jsxs)(o.A,{children:[(0,s.jsxs)(c.A,{value:"ReplaceExisting",label:"ReplaceExisting",children:[(0,s.jsxs)(i.p,{children:["Indicates whether the container should replace an existing registration with the current one (based on ",(0,s.jsx)(i.a,{href:"/docs/getting-started/glossary#service-type--implementation-type",children:"implementation type"})," and name). If there's no existing registration in place, the actual one will be added to the registration list."]}),(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<ILogger, ConsoleLogger>(options => options\n    .ReplaceExisting());\n"})})]}),(0,s.jsxs)(c.A,{value:"ReplaceOnlyIfExists",label:"ReplaceOnlyIfExists",children:[(0,s.jsxs)(i.p,{children:["The same as ",(0,s.jsx)(i.code,{children:"ReplaceExisting()"})," except that the container will do the replace only when there's an already ",(0,s.jsx)(i.a,{href:"/docs/getting-started/glossary#service-registration--registered-service",children:"registered service"})," with the same type or name."]}),(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<ILogger, ConsoleLogger>(options => options\n    .ReplaceOnlyIfExists());\n"})})]})]}),"\n",(0,s.jsx)(i.h2,{id:"multiple-services",children:"Multiple services"}),"\n",(0,s.jsxs)(i.p,{children:["You can read more about binding a registration to multiple services ",(0,s.jsx)(i.a,{href:"/docs/guides/advanced-registration#binding-to-multiple-services",children:"here"}),"."]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"asimplementedtypes",children:(0,s.jsx)(i.code,{children:"AsImplementedTypes"})}),(0,s.jsx)(i.p,{children:"The service will be mapped to all of its implemented interfaces and base types."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<IUserRepository, UserRepository>(options => options\n    .AsImplementedTypes());\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"asservicealso",children:(0,s.jsx)(i.code,{children:"AsServiceAlso"})}),(0,s.jsxs)(i.p,{children:["Binds the currently configured registration to an additional ",(0,s.jsx)(i.a,{href:"/docs/getting-started/glossary#service-type--implementation-type",children:"service type"}),". The registered type must implement or extend the additional ",(0,s.jsx)(i.a,{href:"/docs/getting-started/glossary#service-type--implementation-type",children:"service type"}),"."]})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<IUserRepository, UserRepository>(options => options\n    .AsServiceAlso<IRepository>()\n    // or\n    .AsServiceAlso(typeof(IRepository)));\n"})})})]}),"\n",(0,s.jsx)(i.h2,{id:"dependency-configuration",children:"Dependency configuration"}),"\n",(0,s.jsxs)(i.p,{children:["These options allows the same configuration functionality as the ",(0,s.jsx)(i.a,{href:"/docs/guides/service-resolution#attributes",children:"dependency attribute"}),"."]}),"\n",(0,s.jsxs)(o.A,{children:[(0,s.jsxs)(c.A,{value:"By parameter type",label:"By parameter type",children:[(0,s.jsxs)(i.p,{children:["Binds a constructor / method parameter or a property / field to a named registration by the parameter's type. The container will perform a ",(0,s.jsx)(i.a,{href:"/docs/getting-started/glossary#named-resolution",children:"named resolution"})," on the bound dependency. The second parameter used to set the name of the dependency."]}),(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:'container.Register<IUserRepository, UserRepository>(options => options\n    .WithDependencyBinding(typeof(ILogger), "FileLogger"));\n'})})]}),(0,s.jsxs)(c.A,{value:"By parameter name",label:"By parameter name",children:[(0,s.jsxs)(i.p,{children:["Binds a constructor / method parameter or a property / field to a named registration by the parameter's name. The container will perform a ",(0,s.jsx)(i.a,{href:"/docs/getting-started/glossary#named-resolution",children:"named resolution"})," on the bound dependency. The second parameter used to set the name of the dependency."]}),(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:'container.Register<IUserRepository, UserRepository>(options => options\n    .WithDependencyBinding("logger", "FileLogger"));\n'})})]}),(0,s.jsxs)(c.A,{value:"By expression",label:"By expression",children:[(0,s.jsx)(i.p,{children:"Marks a member (property / field) as a dependency that should be filled by the container. The second parameter used to set the name of the dependency."}),(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:'container.Register<IUserRepository, UserRepository>(options => options\n    .WithDependencyBinding(logger => logger.Logger, "ConsoleLogger"));\n'})})]})]}),"\n",(0,s.jsx)(i.h2,{id:"lifetime",children:"Lifetime"}),"\n",(0,s.jsxs)(i.p,{children:["You can read more about lifetimes ",(0,s.jsx)(i.a,{href:"/docs/guides/lifetimes",children:"here"}),"."]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"withsingletonlifetime",children:(0,s.jsx)(i.code,{children:"WithSingletonLifetime"})}),(0,s.jsx)(i.p,{children:"Sets a singleton lifetime for the registration."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<ILogger, ConsoleLogger>(config => config\n    .WithSingletonLifetime());\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"withscopedlifetime",children:(0,s.jsx)(i.code,{children:"WithScopedLifetime"})}),(0,s.jsx)(i.p,{children:"Sets a scoped lifetime for the registration."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<ILogger, ConsoleLogger>(config => config\n    .WithScopedLifetime());\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"withperscopedrequestlifetime",children:(0,s.jsx)(i.code,{children:"WithPerScopedRequestLifetime"})}),(0,s.jsxs)(i.p,{children:["Sets the lifetime to ",(0,s.jsx)(i.code,{children:"PerScopedRequestLifetime"}),". This lifetime will create a new instance between scoped services. This means that every scoped service will get a different instance but within their dependency tree it will behave as a singleton."]})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<ILogger, ConsoleLogger>(options => options\n    .WithPerScopedRequestLifetime());\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"withperrequestlifetime",children:(0,s.jsx)(i.code,{children:"WithPerRequestLifetime"})}),(0,s.jsxs)(i.p,{children:["Sets the lifetime to ",(0,s.jsx)(i.code,{children:"PerRequestLifetime"}),". This lifetime will create a new instance between resolution requests. Within the request the same instance will be re-used."]})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<ILogger, ConsoleLogger>(options => options\n    .WithPerRequestLifetime());\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"withautolifetime",children:(0,s.jsx)(i.code,{children:"WithAutoLifetime"})}),(0,s.jsx)(i.p,{children:"Sets the lifetime to auto lifetime. This lifetime aligns to the lifetime of the resolved service's dependencies. When the underlying service has a dependency with a higher lifespan, this lifetime will inherit that lifespan up to a given boundary."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<ILogger, ConsoleLogger>(options => options\n    .WithAutoLifetime(Lifetimes.Scoped /* boundary lifetime */));\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"withlifetime",children:(0,s.jsx)(i.code,{children:"WithLifetime"})}),(0,s.jsx)(i.p,{children:"Sets a custom lifetime for the registration."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<ILogger, ConsoleLogger>(config => config\n    .WithLifetime(new CustomLifetime()));\n"})})})]}),"\n",(0,s.jsx)(i.h2,{id:"conditions",children:"Conditions"}),"\n",(0,s.jsxs)(i.p,{children:["You can read more about the concept of conditional resolution ",(0,s.jsx)(i.a,{href:"/docs/guides/service-resolution#conditional-resolution",children:"here"}),"."]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"whenhas",children:(0,s.jsx)(i.code,{children:"WhenHas"})}),(0,s.jsx)(i.p,{children:"Sets an attribute condition for the registration."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<ILogger, ConsoleLogger>(config => config\n    .WhenHas<ConsoleAttribute>());\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"whenresolutionpathhas",children:(0,s.jsx)(i.code,{children:"WhenResolutionPathHas"})}),(0,s.jsx)(i.p,{children:"Sets a resolution path condition for the registration. The service will be selected only in the resolution path of the target that has the given attribute.\nThis means that only the direct and sub-dependencies of the target type that has the given attribute will get the configured service."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<ILogger, ConsoleLogger>(config => config\n    // Each direct and sub-dependency of any service that has\n    // a ConsoleAttribute will get FileLogger wherever they \n    // depend on ILogger. \n    .WhenResolutionPathHas<ConsoleAttribute>());\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"whendependantis",children:(0,s.jsx)(i.code,{children:"WhenDependantIs"})}),(0,s.jsx)(i.p,{children:"Sets a parent target condition for the registration."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<ILogger, FileLogger>(config => config\n    .WhenDependantIs<UserRepository>());\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"wheninresolutionpathof",children:(0,s.jsx)(i.code,{children:"WhenInResolutionPathOf"})}),(0,s.jsx)(i.p,{children:"Sets a resolution path condition for the registration. The service will be selected only in the resolution path of the given target.\nThis means that only the direct and sub-dependencies of the target type will get the configured service."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<ILogger, FileLogger>(config => config\n    // Each direct and sub-dependency of UserRepository\n    // will get FileLogger wherever they depend on ILogger. \n    .WhenInResolutionPathOf<UserRepository>());\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"when",children:(0,s.jsx)(i.code,{children:"When"})}),(0,s.jsx)(i.p,{children:"Sets a custom user-defined condition for the registration."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<ILogger, FileLogger>(config => config\n    .When(typeInfo => typeInfo.ParentType == typeof(UserRepository)));\n"})})})]}),"\n",(0,s.jsx)(i.h2,{id:"constructor-selection",children:"Constructor selection"}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"withconstructorselectionrule",children:(0,s.jsx)(i.code,{children:"WithConstructorSelectionRule"})}),(0,s.jsx)(i.p,{children:"Sets the constructor selection rule for the registration."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<ILogger>(options => options\n    .WithConstructorSelectionRule(...));\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h4,{id:"prefermostparameters",children:"PreferMostParameters"}),(0,s.jsx)(i.p,{children:"Selects the constructor which has the longest parameter list."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"options.WithConstructorSelectionRule(\n    Rules.ConstructorSelection.PreferMostParameters)\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h4,{id:"preferleastparameters",children:"PreferLeastParameters"}),(0,s.jsx)(i.p,{children:"Selects the constructor which has the shortest parameter list."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"options.WithConstructorSelectionRule(\n    Rules.ConstructorSelection.PreferLeastParameters)\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h4,{id:"custom",children:"Custom"}),(0,s.jsx)(i.p,{children:"You can set your own custom constructor ordering logic."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"options.WithConstructorSelectionRule(\n    constructors => { /* custom constructor sorting logic */ })\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"withconstructorbyargumenttypes",children:(0,s.jsx)(i.code,{children:"WithConstructorByArgumentTypes"})}),(0,s.jsx)(i.p,{children:"Selects a constructor by its argument types."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<IUserRepository, UserRepository>(options => options\n    .WithConstructorByArgumentTypes(typeof(ILogger)));\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"withconstructorbyarguments",children:(0,s.jsx)(i.code,{children:"WithConstructorByArguments"})}),(0,s.jsx)(i.p,{children:"Selects a constructor by its arguments to use during resolution. These arguments are used to invoke the selected constructor."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<IUserRepository, UserRepository>(options => options\n    .WithConstructorByArguments(new ConsoleLogger()));\n"})})})]}),"\n",(0,s.jsx)(i.h2,{id:"property--field-injection",children:"Property / field Injection"}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"withautomemberinjection",children:(0,s.jsx)(i.code,{children:"WithAutoMemberInjection"})}),(0,s.jsx)(i.p,{children:"Enables the auto member injection and sets the rule for it."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<IUserRepository, UserRepository>(options => options\n    .WithAutoMemberInjection(...));\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h4,{id:"propertieswithpublicsetter",children:"PropertiesWithPublicSetter"}),(0,s.jsx)(i.p,{children:"With this flag, the container will perform auto-injection on properties with a public setter."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"options.WithAutoMemberInjection(\n    Rules.AutoMemberInjectionRules.PropertiesWithPublicSetter)\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h4,{id:"propertieswithlimitedaccess",children:"PropertiesWithLimitedAccess"}),(0,s.jsx)(i.p,{children:"With this flag, the container will perform auto-injection on properties which has a non-public setter as well."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"options.WithAutoMemberInjection(\n    Rules.AutoMemberInjectionRules.PropertiesWithLimitedAccess)\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h4,{id:"privatefields",children:"PrivateFields"}),(0,s.jsx)(i.p,{children:"With this flag, the container will perform auto-injection on private fields too."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"options.WithAutoMemberInjection(\n    Rules.AutoMemberInjectionRules.PrivateFields)\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h4,{id:"combined-rules",children:"Combined rules"}),(0,s.jsxs)(i.p,{children:["As these rules are ",(0,s.jsx)(i.a,{href:"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/enum#enumeration-types-as-bit-flags",children:"bit flags"}),", you can use them combined together with bitwise logical operators."]})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"options.WithAutoMemberInjection(Rules.AutoMemberInjectionRules.PrivateFields | \n    Rules.AutoMemberInjectionRules.PropertiesWithPublicSetter)\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h4,{id:"member-selection-filter",children:"Member selection filter"}),(0,s.jsx)(i.p,{children:"You can pass your own member selection logic to control which members should be auto injected."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<ILogger, ConsoleLogger>(options => options\n    .WithAutoMemberInjection(filter: member => member.Type != typeof(ILogger)));\n"})})})]}),"\n",(0,s.jsx)(i.h2,{id:"required-member-injection",children:"Required member injection"}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsx)("div",{children:(0,s.jsxs)(i.p,{children:["With this option, you can enable or disable the auto injection of members defined with C# 11's ",(0,s.jsx)(i.a,{href:"https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/required",children:(0,s.jsx)(i.code,{children:"required"})})," keyword."]})}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<IUserRepository, UserRepository>(options => options\n    .WithRequiredMemberInjection(enabled: false));\n"})})})]}),"\n",(0,s.jsx)(i.admonition,{type:"note",children:(0,s.jsxs)(i.p,{children:["The required member injection option is ",(0,s.jsx)(i.strong,{children:"enabled"})," by default."]})}),"\n",(0,s.jsx)(i.h2,{id:"injection-parameters",children:"Injection parameters"}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"withinjectionparameters",children:(0,s.jsx)(i.code,{children:"WithInjectionParameters"})}),(0,s.jsx)(i.p,{children:"Sets multiple injection parameters for the registration."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:'container.Register<IUserRepository, UserRepository>(options => options\n    .WithInjectionParameters(new KeyValuePair<string, object>("logger", new ConsoleLogger()));\n'})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"withinjectionparameter",children:(0,s.jsx)(i.code,{children:"WithInjectionParameter"})}),(0,s.jsx)(i.p,{children:"Sets a single injection parameter for the registration."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:'container.Register<IUserRepository, UserRepository>(options => options\n    .WithInjectionParameter("logger", new ConsoleLogger());\n'})})})]}),"\n",(0,s.jsx)(i.h2,{id:"factory",children:"Factory"}),"\n",(0,s.jsxs)(i.p,{children:["You can read more about the concept of factory registration ",(0,s.jsx)(i.a,{href:"/docs/guides/advanced-registration?id=factory-registration",children:"here"}),"."]}),"\n",(0,s.jsxs)(o.A,{children:[(0,s.jsxs)(c.A,{value:"Parameterized",label:"Parameterized",children:[(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"WithFactory"})," - Sets a factory delegate that could take various number of pre-resolved dependencies as parameters and returns the service instance."]}),(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"// 1 parameter factory\ncontainer.Register<IUserRepository, UserRepository>(options => options\n    .WithFactory<ILogger>(logger => new UserRepository(logger));\n\n// 2 parameters factory\ncontainer.Register<IUserRepository, UserRepository>(options => options\n    .WithFactory<ILogger, IDbContext>((logger, context) => new UserRepository(logger, context));\n\n// 3 parameters factory\ncontainer.Register<IUserRepository, UserRepository>(options => options\n    .WithFactory<ILogger, IDbContext, IOptions>((logger, context, options) => \n        new UserRepository(logger, context, options));\n\n// 4 parameters factory\ncontainer.Register<IUserRepository, UserRepository>(options => options\n    .WithFactory<ILogger, IDbConnection, IOptions, IUserValidator>((logger, connection, options, validator) => \n        new UserRepository(logger, connection, options, validator));\n\n// 5 parameters factory\ncontainer.Register<IUserRepository, UserRepository>(options => options\n    .WithFactory<ILogger, IDbConnection, IOptions, IUserValidator, IPermissionManage>(\n        (logger, connection, options, validator, permissionManager) => \n            new UserRepository(logger, connection, options, validator, permissionManager));\n"})}),(0,s.jsxs)(i.p,{children:["You can also get the current ",(0,s.jsx)(i.a,{href:"/docs/getting-started/glossary#dependency-resolver",children:"dependency resolver"})," as a pre-resolved parameter:"]}),(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<IUserRepository, UserRepository>(options => options\n    .WithFactory<ILogger, IDependencyResolver>((logger, resolver) => \n        new UserRepository(logger, resolver.Resolve<IDbConnection>())));\n"})})]}),(0,s.jsxs)(c.A,{value:"Parameter-less",label:"Parameter-less",children:[(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"WithFactory"})," - Sets a parameter-less factory delegate that returns the service instance."]}),(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<IUserRepository, UserRepository>(options => options\n    .WithFactory(()) => new UserRepository(new ConsoleLogger()));\n"})})]}),(0,s.jsxs)(c.A,{value:"Resolver parameter",label:"Resolver parameter",children:[(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"WithFactory"})," - Sets a factory delegate that takes an ",(0,s.jsx)(i.code,{children:"IDependencyResolver"})," as parameter and returns the service instance."]}),(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<IUserRepository, UserRepository>(options => options\n    .WithFactory(resolver => new UserRepository(resolver.Resolve<ILogger>()));\n"})})]})]}),"\n",(0,s.jsx)(i.admonition,{type:"info",children:(0,s.jsxs)(i.p,{children:["All factory configuration method has an ",(0,s.jsx)(i.code,{children:"isCompiledLambda"})," parameter which should be set to ",(0,s.jsx)(i.code,{children:"true"})," if the passed delegate is compiled from an ",(0,s.jsx)(i.code,{children:"Expression"})," tree."]})}),"\n",(0,s.jsx)(i.h2,{id:"scope-definition",children:"Scope definition"}),"\n",(0,s.jsxs)(i.p,{children:["You can read more about the concept of defined scopes ",(0,s.jsx)(i.a,{href:"/docs/guides/scopes?id=service-as-scope",children:"here"}),"."]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"innamedscope",children:(0,s.jsx)(i.code,{children:"InNamedScope"})}),(0,s.jsx)(i.p,{children:"Sets a scope name condition for the registration; it will be used only when a scope with the same name requests it."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:'container.Register<IUserRepository, UserRepository>(options => options\n    .InNamedScope("UserRepo"));\n'})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"inscopedefinedby",children:(0,s.jsx)(i.code,{children:"InScopeDefinedBy"})}),(0,s.jsx)(i.p,{children:"Sets a condition for the registration; it will be used only within the scope defined by the given type."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.Register<ILogger, ConsoleLogger>(options => options\n    .InScopeDefinedBy<UserRepository>());\ncontainer.Register<IUserRepository, UserRepository>(options => options\n    .DefinesScope());\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"definesscope",children:(0,s.jsx)(i.code,{children:"DefinesScope"})}),(0,s.jsxs)(i.p,{children:["This registration is used as a logical scope for it's dependencies. Dependencies registered with ",(0,s.jsx)(i.code,{children:"InNamedScope()"})," with the same name are preferred during resolution.\nWhen the ",(0,s.jsx)(i.code,{children:"name"})," is not set, the ",(0,s.jsx)(i.a,{href:"/docs/getting-started/glossary#service-type--implementation-type",children:"service type"})," is used as the name. Dependencies registered with ",(0,s.jsx)(i.code,{children:"InScopeDefinedBy()"})," are selected."]})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:'container.Register<IUserRepository, UserRepository>(options => options\n    .DefinesScope("UserRepo"));\n\n// or\ncontainer.Register<IUserRepository, UserRepository>(options => options\n    .DefinesScope());\n'})})})]}),"\n",(0,s.jsx)(i.h2,{id:"decorator-specific",children:"Decorator specific"}),"\n",(0,s.jsxs)(i.p,{children:["You can read more about decorators ",(0,s.jsx)(i.a,{href:"/docs/advanced/decorators",children:"here"}),"."]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"whendecoratedserviceis",children:(0,s.jsx)(i.code,{children:"WhenDecoratedServiceIs"})}),(0,s.jsx)(i.p,{children:"Sets a decorated target condition for the registration."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.RegisterDecorator<ILogger, LoggerDecorator>(options => options\n    .WhenDecoratedServiceIs<FileLogger>());\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"whendecoratedservicehas",children:(0,s.jsx)(i.code,{children:"WhenDecoratedServiceHas"})}),(0,s.jsx)(i.p,{children:"Sets an attribute condition that the decorated target has to satisfy."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"container.RegisterDecorator<ILogger, LoggerDecorator>(options => options\n    .WhenDecoratedServiceHas<DetailedLoggingAttribute>());\n"})})})]}),"\n",(0,s.jsx)(i.h2,{id:"unknown-registration-specific",children:"Unknown registration specific"}),"\n",(0,s.jsxs)(i.p,{children:["You can read more about unknown type resolution ",(0,s.jsx)(i.a,{href:"/docs/advanced/special-resolution-cases#unknown-type-resolution",children:"here"}),"."]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"setimplementationtype",children:(0,s.jsx)(i.code,{children:"SetImplementationType"})}),(0,s.jsxs)(i.p,{children:["Sets the current registration's ",(0,s.jsx)(i.a,{href:"/docs/getting-started/glossary#service-type--implementation-type",children:"implementation type"}),"."]})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"var container = new StashboxContainer(c => c.WithUnknownTypeResolution(config =>\n{\n    if (config.ServiceType == typeof(IService))\n        config.SetImplementationType(typeof(Service));\n}));\n"})})})]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.h3,{id:"skip",children:(0,s.jsx)(i.code,{children:"Skip"})}),(0,s.jsx)(i.p,{children:"Marks the current unknown type registration as skipped."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",children:"var container = new StashboxContainer(c => c.WithUnknownTypeResolution(config =>\n{\n    if (config.ServiceType == typeof(IService))\n        config.Skip();\n}));\n"})})})]})]})}function g(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},9365:(e,i,n)=>{n.d(i,{A:()=>o});n(6540);var s=n(870);const t={tabItem:"tabItem_Ymn6"};var r=n(4848);function o(e){let{children:i,hidden:n,className:o}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,s.A)(t.tabItem,o),hidden:n,children:i})}},1470:(e,i,n)=>{n.d(i,{A:()=>I});var s=n(6540),t=n(870),r=n(3104),o=n(6347),c=n(205),a=n(7485),l=n(1682),d=n(9466);function h(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:i}=e;return!!i&&"object"==typeof i&&"value"in i}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:i,children:n}=e;return(0,s.useMemo)((()=>{const e=i??function(e){return h(e).map((e=>{let{props:{value:i,label:n,attributes:s,default:t}}=e;return{value:i,label:n,attributes:s,default:t}}))}(n);return function(e){const i=(0,l.X)(e,((e,i)=>e.value===i.value));if(i.length>0)throw new Error(`Docusaurus error: Duplicate values "${i.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[i,n])}function u(e){let{value:i,tabValues:n}=e;return n.some((e=>e.value===i))}function g(e){let{queryString:i=!1,groupId:n}=e;const t=(0,o.W6)(),r=function(e){let{queryString:i=!1,groupId:n}=e;if("string"==typeof i)return i;if(!1===i)return null;if(!0===i&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:i,groupId:n});return[(0,a.aZ)(r),(0,s.useCallback)((e=>{if(!r)return;const i=new URLSearchParams(t.location.search);i.set(r,e),t.replace({...t.location,search:i.toString()})}),[r,t])]}function j(e){const{defaultValue:i,queryString:n=!1,groupId:t}=e,r=p(e),[o,a]=(0,s.useState)((()=>function(e){let{defaultValue:i,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(i){if(!u({value:i,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${i}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return i}const s=n.find((e=>e.default))??n[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:i,tabValues:r}))),[l,h]=g({queryString:n,groupId:t}),[j,x]=function(e){let{groupId:i}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(i),[t,r]=(0,d.Dv)(n);return[t,(0,s.useCallback)((e=>{n&&r.set(e)}),[n,r])]}({groupId:t}),m=(()=>{const e=l??j;return u({value:e,tabValues:r})?e:null})();(0,c.A)((()=>{m&&a(m)}),[m]);return{selectedValue:o,selectValue:(0,s.useCallback)((e=>{if(!u({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);a(e),h(e),x(e)}),[h,x,r]),tabValues:r}}var x=n(2303);const m={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=n(4848);function f(e){let{className:i,block:n,selectedValue:s,selectValue:o,tabValues:c}=e;const a=[],{blockElementScrollPositionUntilNextRender:l}=(0,r.a_)(),d=e=>{const i=e.currentTarget,n=a.indexOf(i),t=c[n].value;t!==s&&(l(i),o(t))},h=e=>{let i=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=a.indexOf(e.currentTarget)+1;i=a[n]??a[0];break}case"ArrowLeft":{const n=a.indexOf(e.currentTarget)-1;i=a[n]??a[a.length-1];break}}i?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":n},i),children:c.map((e=>{let{value:i,label:n,attributes:r}=e;return(0,v.jsx)("li",{role:"tab",tabIndex:s===i?0:-1,"aria-selected":s===i,ref:e=>a.push(e),onKeyDown:h,onClick:d,...r,className:(0,t.A)("tabs__item",m.tabItem,r?.className,{"tabs__item--active":s===i}),children:n??i},i)}))})}function y(e){let{lazy:i,children:n,selectedValue:t}=e;const r=(Array.isArray(n)?n:[n]).filter(Boolean);if(i){const e=r.find((e=>e.props.value===t));return e?(0,s.cloneElement)(e,{className:"margin-top--md"}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:r.map(((e,i)=>(0,s.cloneElement)(e,{key:i,hidden:e.props.value!==t})))})}function b(e){const i=j(e);return(0,v.jsxs)("div",{className:(0,t.A)("tabs-container",m.tabList),children:[(0,v.jsx)(f,{...e,...i}),(0,v.jsx)(y,{...e,...i})]})}function I(e){const i=(0,x.A)();return(0,v.jsx)(b,{...e,children:h(e.children)},String(i))}},7470:(e,i,n)=>{n.d(i,{A:()=>o});var s=n(6540);const t={codeDescContainer:"codeDescContainer_ie8f",desc:"desc_jyqI",example:"example_eYlF"};var r=n(4848);function o(e){let{children:i}=e,n=s.Children.toArray(i).filter((e=>e));return(0,r.jsxs)("div",{className:t.codeDescContainer,children:[(0,r.jsx)("div",{className:t.desc,children:n[0]}),(0,r.jsx)("div",{className:t.example,children:n[1]})]})}},8453:(e,i,n)=>{n.d(i,{R:()=>o,x:()=>c});var s=n(6540);const t={},r=s.createContext(t);function o(e){const i=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(r.Provider,{value:i},e.children)}}}]);