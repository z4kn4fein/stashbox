"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[384],{9743:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var t=i(4848),s=i(8453),r=i(7470);i(1470),i(9365);const o={},a="Container configuration",l={id:"configuration/container-configuration",title:"Container configuration",description:"The container's constructor has an Action parameter used to configure its behavior.",source:"@site/docs/configuration/container-configuration.md",sourceDirName:"configuration",slug:"/configuration/container-configuration",permalink:"/stashbox/docs/configuration/container-configuration",draft:!1,unlisted:!1,editUrl:"https://github.com/z4kn4fein/stashbox/edit/master/docs/docs/configuration/container-configuration.md",tags:[],version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1759825231,formattedLastUpdatedAt:"Oct 7, 2025",frontMatter:{},sidebar:"docs",previous:{title:"Registration configuration",permalink:"/stashbox/docs/configuration/registration-configuration"},next:{title:"Generics",permalink:"/stashbox/docs/advanced/generics"}},c={},d=[{value:"Default configuration",id:"default-configuration",level:2},{value:"Tracking disposable transients",id:"tracking-disposable-transients",level:2},{value:"Auto member-injection",id:"auto-member-injection",level:2},{value:"<code>PropertiesWithPublicSetter</code>",id:"propertieswithpublicsetter",level:3},{value:"<code>PropertiesWithLimitedAccess</code>",id:"propertieswithlimitedaccess",level:3},{value:"<code>PrivateFields</code>",id:"privatefields",level:3},{value:"Combined rules",id:"combined-rules",level:3},{value:"Member selection filter",id:"member-selection-filter",level:4},{value:"Required member injection",id:"required-member-injection",level:2},{value:"Constructor selection",id:"constructor-selection",level:2},{value:"<code>PreferMostParameters</code>",id:"prefermostparameters",level:3},{value:"<code>PreferLeastParameters</code>",id:"preferleastparameters",level:3},{value:"Registration behavior",id:"registration-behavior",level:2},{value:"<code>SkipDuplications</code>",id:"skipduplications",level:3},{value:"<code>ThrowException</code>",id:"throwexception",level:3},{value:"<code>ReplaceExisting</code>",id:"replaceexisting",level:3},{value:"<code>PreserveDuplications</code>",id:"preserveduplications",level:3},{value:"Default lifetime",id:"default-lifetime",level:2},{value:"Lifetime validation",id:"lifetime-validation",level:2},{value:"Generic variance",id:"generic-variance",level:2},{value:"Empty collection handling",id:"empty-collection-handling",level:2},{value:"Conventional resolution",id:"conventional-resolution",level:2},{value:"Using named service for un-named requests",id:"using-named-service-for-un-named-requests",level:2},{value:"Named service resolution",id:"named-service-resolution",level:2},{value:"<code>WithUniversalName</code>",id:"withuniversalname",level:3},{value:"<code>WithAdditionalDependencyNameAttribute</code>",id:"withadditionaldependencynameattribute",level:3},{value:"<code>WithAdditionalDependencyAttribute</code>",id:"withadditionaldependencyattribute",level:3},{value:"Default value injection",id:"default-value-injection",level:2},{value:"Unknown type resolution",id:"unknown-type-resolution",level:2},{value:"Custom compiler",id:"custom-compiler",level:2},{value:"Re-build singletons in child containers",id:"re-build-singletons-in-child-containers",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"container-configuration",children:"Container configuration"}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(n.p,{children:["The container's constructor has an ",(0,t.jsx)(n.code,{children:"Action<T>"})," parameter used to configure its behavior."]}),(0,t.jsx)(n.p,{children:"The configuration API is fluent, which means you can chain the configuration methods after each other."})]}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"var container = new StashboxContainer(options => options\n    .WithDisposableTransientTracking()\n    .WithConstructorSelectionRule(Rules.ConstructorSelection.PreferLeastParameters)\n    .WithRegistrationBehavior(Rules.RegistrationBehavior.ThrowException));\n"})})})]}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsx)("div",{children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Re-configuration"})," of the container is also supported by calling its ",(0,t.jsx)(n.code,{children:".Configure()"})," method."]})}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"var container = new StashboxContainer();\ncontainer.Configure(options => options.WithDisposableTransientTracking());\n"})})})]}),"\n",(0,t.jsx)(n.h2,{id:"default-configuration",children:"Default configuration"}),"\n",(0,t.jsx)(n.p,{children:"These features are set by default:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/configuration/container-configuration#constructor-selection",children:"Constructor selection"}),": ",(0,t.jsx)(n.code,{children:"Rules.ConstructorSelection.PreferMostParameters"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/configuration/container-configuration#registration-behavior",children:"Registration behavior"}),": ",(0,t.jsx)(n.code,{children:"Rules.RegistrationBehavior.SkipDuplications"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/configuration/container-configuration#default-lifetime",children:"Default lifetime"}),": ",(0,t.jsx)(n.code,{children:"Lifetimes.Transient"})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"tracking-disposable-transients",children:"Tracking disposable transients"}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsx)("div",{children:(0,t.jsx)(n.p,{children:"With this option, you can enable or disable the tracking of disposable transient objects."})}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .WithDisposableTransientTracking());\n"})})})]}),"\n",(0,t.jsx)(n.h2,{id:"auto-member-injection",children:"Auto member-injection"}),"\n",(0,t.jsxs)(n.p,{children:["With this option, you can enable or disable the auto member-injection without ",(0,t.jsx)(n.a,{href:"/docs/guides/service-resolution#attributes",children:"attributes"}),"."]}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.h3,{id:"propertieswithpublicsetter",children:(0,t.jsx)(n.code,{children:"PropertiesWithPublicSetter"})}),(0,t.jsx)(n.p,{children:"With this flag, the container will perform auto-injection on properties with public setters."})]}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .WithAutoMemberInjection(\n        Rules.AutoMemberInjectionRules.PropertiesWithPublicSetter));\n"})})})]}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.h3,{id:"propertieswithlimitedaccess",children:(0,t.jsx)(n.code,{children:"PropertiesWithLimitedAccess"})}),(0,t.jsx)(n.p,{children:"With this flag, the container will perform auto-injection on properties even when they don't have a public setter."})]}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .WithAutoMemberInjection(\n        Rules.AutoMemberInjectionRules.PropertiesWithLimitedAccess));\n"})})})]}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.h3,{id:"privatefields",children:(0,t.jsx)(n.code,{children:"PrivateFields"})}),(0,t.jsx)(n.p,{children:"With this flag, the container will perform auto-injection on private fields too."})]}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .WithAutoMemberInjection(\n        Rules.AutoMemberInjectionRules.PrivateFields));\n"})})})]}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.h3,{id:"combined-rules",children:"Combined rules"}),(0,t.jsx)(n.p,{children:"You can also combine these flags with bitwise logical operators to get a merged ruleset."})]}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .WithAutoMemberInjection(Rules.AutoMemberInjectionRules.PrivateFields | \n        Rules.AutoMemberInjectionRules.PropertiesWithPublicSetter));\n"})})})]}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.h4,{id:"member-selection-filter",children:"Member selection filter"}),(0,t.jsx)(n.p,{children:"You can pass your own member selection logic to control which members should be auto injected."})]}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .WithAutoMemberInjection(\n        filter: member => member.Type != typeof(ILogger)));\n"})})})]}),"\n",(0,t.jsx)(n.h2,{id:"required-member-injection",children:"Required member injection"}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsx)("div",{children:(0,t.jsxs)(n.p,{children:["With this option, you can enable or disable the auto injection of members defined with C# 11's ",(0,t.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/required",children:(0,t.jsx)(n.code,{children:"required"})})," keyword."]})}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .WithRequiredMemberInjection(enabled: false));\n"})})})]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["The required member injection option is ",(0,t.jsx)(n.strong,{children:"enabled"})," by default."]})}),"\n",(0,t.jsx)(n.h2,{id:"constructor-selection",children:"Constructor selection"}),"\n",(0,t.jsx)(n.p,{children:"With this option, you can set the constructor selection rule used to determine which constructor the container should use for instantiation."}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.h3,{id:"prefermostparameters",children:(0,t.jsx)(n.code,{children:"PreferMostParameters"})}),(0,t.jsx)(n.p,{children:"It prefers the constructor which has the most extended parameter list."})]}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .WithConstructorSelectionRule(\n        Rules.ConstructorSelection.PreferMostParameters));\n"})})})]}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.h3,{id:"preferleastparameters",children:(0,t.jsx)(n.code,{children:"PreferLeastParameters"})}),(0,t.jsx)(n.p,{children:"It prefers the constructor which has the shortest parameter list."})]}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .WithConstructorSelectionRule(\n        Rules.ConstructorSelection.PreferLeastParameters));\n"})})})]}),"\n",(0,t.jsx)(n.h2,{id:"registration-behavior",children:"Registration behavior"}),"\n",(0,t.jsx)(n.p,{children:"With this option, you can set the actual behavior used when a new service is registered into the container. These options do not affect named registrations."}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.h3,{id:"skipduplications",children:(0,t.jsx)(n.code,{children:"SkipDuplications"})}),(0,t.jsxs)(n.p,{children:["The container will skip new registrations when the given ",(0,t.jsx)(n.a,{href:"/docs/getting-started/glossary#service-type--implementation-type",children:"implementation type"})," is already registered."]})]}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .WithRegistrationBehavior(\n        Rules.RegistrationBehavior.SkipDuplications));\n"})})})]}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.h3,{id:"throwexception",children:(0,t.jsx)(n.code,{children:"ThrowException"})}),(0,t.jsxs)(n.p,{children:["The container throws an ",(0,t.jsx)(n.a,{href:"/docs/diagnostics/validation#servicealreadyregisteredexception",children:"exception"})," when the given ",(0,t.jsx)(n.a,{href:"/docs/getting-started/glossary#service-type--implementation-type",children:"implementation type"})," is already registered."]})]}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .WithRegistrationBehavior(\n        Rules.RegistrationBehavior.ThrowException));\n"})})})]}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.h3,{id:"replaceexisting",children:(0,t.jsx)(n.code,{children:"ReplaceExisting"})}),(0,t.jsxs)(n.p,{children:["The container will replace the already ",(0,t.jsx)(n.a,{href:"/docs/getting-started/glossary#service-registration--registered-service",children:"registered service"})," with the given one when they have the same ",(0,t.jsx)(n.a,{href:"/docs/getting-started/glossary#service-type--implementation-type",children:"implementation type"}),"."]})]}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .WithRegistrationBehavior(\n        Rules.RegistrationBehavior.ReplaceExisting));\n"})})})]}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.h3,{id:"preserveduplications",children:(0,t.jsx)(n.code,{children:"PreserveDuplications"})}),(0,t.jsxs)(n.p,{children:["The container will keep registering the new services with the same ",(0,t.jsx)(n.a,{href:"/docs/getting-started/glossary#service-type--implementation-type",children:"implementation type"}),"."]})]}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .WithRegistrationBehavior(\n        Rules.RegistrationBehavior.PreserveDuplications));\n"})})})]}),"\n",(0,t.jsx)(n.h2,{id:"default-lifetime",children:"Default lifetime"}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsx)("div",{children:(0,t.jsx)(n.p,{children:"With this option, you can set the default lifetime used when a service doesn't have a configured one."})}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .WithDefaultLifetime(Lifetimes.Scoped));\n"})})})]}),"\n",(0,t.jsx)(n.h2,{id:"lifetime-validation",children:"Lifetime validation"}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsx)("div",{children:(0,t.jsxs)(n.p,{children:["With this option, you can enable or disable the life-span and ",(0,t.jsx)(n.a,{href:"/docs/getting-started/glossary#root-scope",children:"root scope"})," resolution ",(0,t.jsx)(n.a,{href:"/docs/diagnostics/validation#lifetime-validation",children:"validation"})," on the dependency tree."]})}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .WithLifetimeValidation());\n"})})})]}),"\n",(0,t.jsx)(n.h2,{id:"generic-variance",children:"Generic variance"}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(n.p,{children:["With this option, you can enable or disable the check for ",(0,t.jsx)(n.a,{href:"/docs/advanced/generics#variance",children:"generic covariance and contravariance"})," during the resolution of generic type collections."]}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:"This option is enabled by default"}),"."]})]}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .WithVariantGenericTypes());\n"})})})]}),"\n",(0,t.jsx)(n.h2,{id:"empty-collection-handling",children:"Empty collection handling"}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsx)("div",{children:(0,t.jsxs)(n.p,{children:["With this option, you can enable or disable the throwing of a ",(0,t.jsx)(n.code,{children:"ResolutionFailedException"})," when no services are found for a collection resolution request. When this feature is disabled ",(0,t.jsx)(n.em,{children:"(default)"}),", the container returns an empty array for those request."]})}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .WithExceptionOverEmptyCollection());\n"})})})]}),"\n",(0,t.jsx)(n.h2,{id:"conventional-resolution",children:"Conventional resolution"}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsx)("div",{children:(0,t.jsxs)(n.p,{children:["With this option, you can enable or disable conventional resolution, which means the container treats the constructor/method parameter or member names as dependency names used by ",(0,t.jsx)(n.a,{href:"/docs/getting-started/glossary#named-resolution",children:"named resolution"}),"."]})}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .TreatParameterAndMemberNameAsDependencyName());\n"})})})]}),"\n",(0,t.jsx)(n.h2,{id:"using-named-service-for-un-named-requests",children:"Using named service for un-named requests"}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsx)("div",{children:(0,t.jsx)(n.p,{children:"With this option, you can enable or disable the selection of named registrations when the resolution request is un-named but with the same type."})}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .WithNamedDependencyResolutionForUnNamedRequests());\n"})})})]}),"\n",(0,t.jsx)(n.h2,{id:"named-service-resolution",children:"Named service resolution"}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.h3,{id:"withuniversalname",children:(0,t.jsx)(n.code,{children:"WithUniversalName"})}),(0,t.jsx)(n.p,{children:"Sets the universal name that represents a special name which allows named resolution work for any given name."})]}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:'new StashboxContainer(options => options\n    .WithUniversalName("Any"));\n'})})})]}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.h3,{id:"withadditionaldependencynameattribute",children:(0,t.jsx)(n.code,{children:"WithAdditionalDependencyNameAttribute"})}),(0,t.jsxs)(n.p,{children:["Adds an attribute type that is considered a dependency name indicator just like the ",(0,t.jsxs)(n.a,{href:"/docs/guides/service-resolution#attributes",children:[(0,t.jsx)(n.code,{children:"DependencyName"})," attribute"]}),"."]})]}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .WithAdditionalDependencyNameAttribute<CustomNameAttribute>());\n"})})})]}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.h3,{id:"withadditionaldependencyattribute",children:(0,t.jsx)(n.code,{children:"WithAdditionalDependencyAttribute"})}),(0,t.jsxs)(n.p,{children:["Adds an attribute type that is considered a dependency indicator just like the ",(0,t.jsxs)(n.a,{href:"/docs/guides/service-resolution#attributes",children:[(0,t.jsx)(n.code,{children:"Dependency"})," attribute"]}),"."]})]}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .WithAdditionalDependencyAttribute<CustomDependencyAttribute>());\n"})})})]}),"\n",(0,t.jsx)(n.h2,{id:"default-value-injection",children:"Default value injection"}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsx)("div",{children:(0,t.jsx)(n.p,{children:"With this option, you can enable or disable the default value injection."})}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .WithDefaultValueInjection());\n"})})})]}),"\n",(0,t.jsx)(n.h2,{id:"unknown-type-resolution",children:"Unknown type resolution"}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsx)("div",{children:(0,t.jsx)(n.p,{children:"With this option, you can enable or disable the resolution of unregistered types. You can also use a configurator delegate to configure the registrations the container will create from the unknown types."})}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .WithUnknownTypeResolution(config => config.AsImplementedTypes()));\n"})})})]}),"\n",(0,t.jsx)(n.h2,{id:"custom-compiler",children:"Custom compiler"}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsx)("div",{children:(0,t.jsx)(n.p,{children:"With this option, you can set an external expression tree compiler. It can be useful on platforms where the IL generator modules are not available; therefore, the expression compiler in Stashbox couldn't work."})}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .WithExpressionCompiler(\n        Rules.ExpressionCompilers.MicrosoftExpressionCompiler));\n"})})})]}),"\n",(0,t.jsx)(n.h2,{id:"re-build-singletons-in-child-containers",children:"Re-build singletons in child containers"}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsx)("div",{children:(0,t.jsx)(n.p,{children:"With this option, you can enable or disable the re-building of singletons in child containers. It allows the child containers to override singleton dependencies in the parent."})}),(0,t.jsx)("div",{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"new StashboxContainer(options => options\n    .WithReBuildSingletonsInChildContainer());\n"})})})]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"This feature is not affecting the already built singleton instances in the parent."})})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},9365:(e,n,i)=>{i.d(n,{A:()=>o});i(6540);var t=i(870);const s={tabItem:"tabItem_Ymn6"};var r=i(4848);function o(e){let{children:n,hidden:i,className:o}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,t.A)(s.tabItem,o),hidden:i,children:n})}},1470:(e,n,i)=>{i.d(n,{A:()=>w});var t=i(6540),s=i(870),r=i(3104),o=i(6347),a=i(205),l=i(7485),c=i(1682),d=i(9466);function h(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:n,children:i}=e;return(0,t.useMemo)((()=>{const e=n??function(e){return h(e).map((e=>{let{props:{value:n,label:i,attributes:t,default:s}}=e;return{value:n,label:i,attributes:t,default:s}}))}(i);return function(e){const n=(0,c.X)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,i])}function p(e){let{value:n,tabValues:i}=e;return i.some((e=>e.value===n))}function x(e){let{queryString:n=!1,groupId:i}=e;const s=(0,o.W6)(),r=function(e){let{queryString:n=!1,groupId:i}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!i)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return i??null}({queryString:n,groupId:i});return[(0,l.aZ)(r),(0,t.useCallback)((e=>{if(!r)return;const n=new URLSearchParams(s.location.search);n.set(r,e),s.replace({...s.location,search:n.toString()})}),[r,s])]}function j(e){const{defaultValue:n,queryString:i=!1,groupId:s}=e,r=u(e),[o,l]=(0,t.useState)((()=>function(e){let{defaultValue:n,tabValues:i}=e;if(0===i.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:i}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${i.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const t=i.find((e=>e.default))??i[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:r}))),[c,h]=x({queryString:i,groupId:s}),[j,m]=function(e){let{groupId:n}=e;const i=function(e){return e?`docusaurus.tab.${e}`:null}(n),[s,r]=(0,d.Dv)(i);return[s,(0,t.useCallback)((e=>{i&&r.set(e)}),[i,r])]}({groupId:s}),v=(()=>{const e=c??j;return p({value:e,tabValues:r})?e:null})();(0,a.A)((()=>{v&&l(v)}),[v]);return{selectedValue:o,selectValue:(0,t.useCallback)((e=>{if(!p({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),m(e)}),[h,m,r]),tabValues:r}}var m=i(2303);const v={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=i(4848);function f(e){let{className:n,block:i,selectedValue:t,selectValue:o,tabValues:a}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,r.a_)(),d=e=>{const n=e.currentTarget,i=l.indexOf(n),s=a[i].value;s!==t&&(c(n),o(s))},h=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const i=l.indexOf(e.currentTarget)+1;n=l[i]??l[0];break}case"ArrowLeft":{const i=l.indexOf(e.currentTarget)-1;n=l[i]??l[l.length-1];break}}n?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":i},n),children:a.map((e=>{let{value:n,label:i,attributes:r}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:t===n?0:-1,"aria-selected":t===n,ref:e=>l.push(e),onKeyDown:h,onClick:d,...r,className:(0,s.A)("tabs__item",v.tabItem,r?.className,{"tabs__item--active":t===n}),children:i??n},n)}))})}function b(e){let{lazy:n,children:i,selectedValue:s}=e;const r=(Array.isArray(i)?i:[i]).filter(Boolean);if(n){const e=r.find((e=>e.props.value===s));return e?(0,t.cloneElement)(e,{className:"margin-top--md"}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:r.map(((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function y(e){const n=j(e);return(0,g.jsxs)("div",{className:(0,s.A)("tabs-container",v.tabList),children:[(0,g.jsx)(f,{...e,...n}),(0,g.jsx)(b,{...e,...n})]})}function w(e){const n=(0,m.A)();return(0,g.jsx)(y,{...e,children:h(e.children)},String(n))}},7470:(e,n,i)=>{i.d(n,{A:()=>o});var t=i(6540);const s={codeDescContainer:"codeDescContainer_ie8f",desc:"desc_jyqI",example:"example_eYlF"};var r=i(4848);function o(e){let{children:n}=e,i=t.Children.toArray(n).filter((e=>e));return(0,r.jsxs)("div",{className:s.codeDescContainer,children:[(0,r.jsx)("div",{className:s.desc,children:i[0]}),(0,r.jsx)("div",{className:s.example,children:i[1]})]})}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var t=i(6540);const s={},r=t.createContext(s);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);